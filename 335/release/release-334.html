
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>12.2. Release 334 (29 May 2020) &#8212; Presto 335 Documentation</title>
    <link rel="stylesheet" href="../_static/presto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '335',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12.3. Release 333 (04 May 2020)" href="release-333.html" />
    <link rel="prev" title="12.1. Release 335 (14 Jun 2020)" href="release-335.html" /> 
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133457846-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-133457846-1');
    </script>
  </head>
  <body>
<div class="header">
    <h1 class="heading"><a href="../index.html">
        <span>Presto 335 Documentation</span></a></h1>
    <h2 class="heading"><span>12.2. Release 334 (29 May 2020)</span></h2>
</div>
<div class="topnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-335.html">12.1. Release 335 (14 Jun 2020)</a>
    </span>
    <span class="right">
        <a href="release-333.html">12.3. Release 333 (04 May 2020)</a> &raquo;
    </span>
</p>

</div>
<div class="content">
    
  <div class="section" id="release-334-29-may-2020">
<h1>12.2. Release 334 (29 May 2020)<a class="headerlink" href="#release-334-29-may-2020" title="Permalink to this headline">#</a></h1>
<div class="section" id="general-changes">
<h2>General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Fix incorrect query results for certain queries involving comparisons of <code class="docutils literal"><span class="pre">real</span></code> and <code class="docutils literal"><span class="pre">double</span></code> types
when values include negative zero. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3745">#3745</a>)</li>
<li>Fix failure when querying an empty table with late materialization enabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3577">#3577</a>)</li>
<li>Fix failure when the inputs to <code class="docutils literal"><span class="pre">UNNEST</span></code> are repeated. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3587">#3587</a>)</li>
<li>Fix failure when an aggregation is used in the arguments to <a class="reference internal" href="../functions/conversion.html#format" title="format"><code class="xref py py-func docutils literal"><span class="pre">format()</span></code></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3829">#3829</a>)</li>
<li>Fix <a class="reference internal" href="../functions/datetime.html#localtime" title="localtime"><code class="xref py py-func docutils literal"><span class="pre">localtime()</span></code></a> and <a class="reference internal" href="../functions/datetime.html#current_time" title="current_time"><code class="xref py py-func docutils literal"><span class="pre">current_time()</span></code></a> for session zones with DST or with historical offset changes
in legacy (default) timestamp semantics. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3846">#3846</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/3850">#3850</a>)</li>
<li>Fix dynamic filter failures in complex spatial join queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3694">#3694</a>)</li>
<li>Improve performance of queries involving <a class="reference internal" href="../functions/window.html#row_number" title="row_number"><code class="xref py py-func docutils literal"><span class="pre">row_number()</span></code></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3614">#3614</a>)</li>
<li>Improve performance of queries containing <code class="docutils literal"><span class="pre">LIKE</span></code> predicate. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3618">#3618</a>)</li>
<li>Improve query performance when dynamic filtering is enabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3632">#3632</a>)</li>
<li>Improve performance for queries that read fields from nested structures. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2672">#2672</a>)</li>
<li>Add variant of <a class="reference internal" href="../functions/math.html#random" title="random"><code class="xref py py-func docutils literal"><span class="pre">random()</span></code></a> function that produces a number in the provided range. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1848">#1848</a>)</li>
<li>Show distributed plan by default in <a class="reference internal" href="../sql/explain.html"><span class="doc">EXPLAIN</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3724">#3724</a>)</li>
<li>Add <a class="reference internal" href="../connector/oracle.html"><span class="doc">Oracle Connector</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1959">#1959</a>)</li>
<li>Add <a class="reference internal" href="../connector/pinot.html"><span class="doc">Pinot Connector</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2028">#2028</a>)</li>
<li>Add <a class="reference internal" href="../connector/prometheus.html"><span class="doc">Prometheus Connector</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2321">#2321</a>)</li>
<li>Add support for standards compliant (<span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc7239.html"><strong>RFC 7239</strong></a>) HTTP forwarded headers. Processing of HTTP forwarded headers is now controlled by the
<code class="docutils literal"><span class="pre">http-server.process-forwarded</span></code> configuration property, and the old <code class="docutils literal"><span class="pre">http-server.authentication.allow-forwarded-https</span></code> and
<code class="docutils literal"><span class="pre">dispatcher.forwarded-header</span></code> configuration properties are no longer supported. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3714">#3714</a>)</li>
<li>Add pluggable <a class="reference internal" href="../develop/certificate-authenticator.html"><span class="doc">Certificate Authenticator</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3804">#3804</a>)</li>
</ul>
</div>
<div class="section" id="jdbc-driver">
<h2>JDBC Driver<a class="headerlink" href="#jdbc-driver" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Implement <code class="docutils literal"><span class="pre">toString()</span></code> for <code class="docutils literal"><span class="pre">java.sql.Array</span></code> results. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3803">#3803</a>)</li>
</ul>
</div>
<div class="section" id="cli-changes">
<h2>CLI Changes<a class="headerlink" href="#cli-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Improve rendering of elapsed time for short queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3311">#3311</a>)</li>
</ul>
</div>
<div class="section" id="web-ui-changes">
<h2>Web UI Changes<a class="headerlink" href="#web-ui-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal"><span class="pre">fixed</span></code>, <code class="docutils literal"><span class="pre">certificate</span></code>, <code class="docutils literal"><span class="pre">JWT</span></code>, and <code class="docutils literal"><span class="pre">Kerberos</span></code> to UI authentication. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3433">#3433</a>)</li>
<li>Show join distribution type in Live Plan. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1323">#1323</a>)</li>
</ul>
</div>
<div class="section" id="jdbc-driver-changes">
<h2>JDBC Driver Changes<a class="headerlink" href="#jdbc-driver-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Improve performance of <code class="docutils literal"><span class="pre">DatabaseMetaData.getColumns()</span></code> when the
parameters contain unescaped <code class="docutils literal"><span class="pre">%</span></code> or <code class="docutils literal"><span class="pre">_</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1620">#1620</a>)</li>
</ul>
</div>
<div class="section" id="elasticsearch-connector-changes">
<h2>Elasticsearch Connector Changes<a class="headerlink" href="#elasticsearch-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Fix failure when executing <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3718">#3718</a>)</li>
<li>Improve performance for <code class="docutils literal"><span class="pre">count(*)</span></code> queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3512">#3512</a>)</li>
<li>Add support for raw Elasticsearch queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3735">#3735</a>)</li>
</ul>
</div>
<div class="section" id="hive-connector-changes">
<h2>Hive Connector Changes<a class="headerlink" href="#hive-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Fix matching bucket filenames without leading zeros. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3702">#3702</a>)</li>
<li>Fix creation of external tables using <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">AS</span></code>. Previously, the
tables were created as managed and with the default location. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3755">#3755</a>)</li>
<li>Fix incorrect table statistics for newly created external tables. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3819">#3819</a>)</li>
<li>Prevent Presto from starting when cache fails to initialize. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3749">#3749</a>)</li>
<li>Fix race condition that could cause caching to be permanently disabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3729">#3729</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/3810">#3810</a>)</li>
<li>Fix malformed reads when asynchronous read mode for caching is enabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3772">#3772</a>)</li>
<li>Fix eviction of cached data while still under size eviction threshold. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3772">#3772</a>)</li>
<li>Improve performance when creating unpartitioned external tables over large data sets. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3624">#3624</a>)</li>
<li>Leverage Parquet file statistics when reading decimal columns. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3581">#3581</a>)</li>
<li>Change type of <code class="docutils literal"><span class="pre">$file_modified_time</span></code> hidden column from <code class="docutils literal"><span class="pre">bigint</span></code> to <code class="docutils literal"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">timezone</span> <span class="pre">type</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3611">#3611</a>)</li>
<li>Add caching support for HDFS and Azure file systems. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3772">#3772</a>)</li>
<li>Fix S3 connection pool depletion when asynchronous read mode for caching is enabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3772">#3772</a>)</li>
<li>Disable caching on coordinator by default. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3820">#3820</a>)</li>
<li>Use asynchronous read mode for caching by default. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3799">#3799</a>)</li>
<li>Cache delegation token for Hive thrift metastore. This can be configured with
the <code class="docutils literal"><span class="pre">hive.metastore.thrift.delegation-token.cache-ttl</span></code> and <code class="docutils literal"><span class="pre">hive.metastore.thrift.delegation-token.cache-maximum-size</span></code>
configuration properties. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3771">#3771</a>)</li>
</ul>
</div>
<div class="section" id="memsql-connector-changes">
<h2>MemSQL Connector Changes<a class="headerlink" href="#memsql-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Include <a class="reference internal" href="../connector/memsql.html"><span class="doc">MemSQL Connector</span></a> in the server tarball and RPM. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3743">#3743</a>)</li>
</ul>
</div>
<div class="section" id="mongodb-connector-changes">
<h2>MongoDB Connector Changes<a class="headerlink" href="#mongodb-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Support case insensitive database and collection names. This can be enabled with the
<code class="docutils literal"><span class="pre">mongodb.case-insensitive-name-matching</span></code> configuration property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3453">#3453</a>)</li>
</ul>
</div>
<div class="section" id="spi-changes">
<h2>SPI Changes<a class="headerlink" href="#spi-changes" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><ul class="simple">
<li>Allow a <code class="docutils literal"><span class="pre">SystemAccessControl</span></code> to provide an <code class="docutils literal"><span class="pre">EventListener</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3629">#3629</a>).</li>
</ul>
</div></blockquote>
</div>
</div>


</div>
<div class="bottomnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-335.html">12.1. Release 335 (14 Jun 2020)</a>
    </span>
    <span class="right">
        <a href="release-333.html">12.3. Release 333 (04 May 2020)</a> &raquo;
    </span>
</p>

</div>

    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>