
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>13.1. Release 337 (25 Jun 2020) &#8212; Presto 337 Documentation</title>
    <link rel="stylesheet" href="../_static/presto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '337',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13.2. Release 336 (16 Jun 2020)" href="release-336.html" />
    <link rel="prev" title="13. Release Notes" href="../release.html" /> 
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133457846-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-133457846-1');
    </script>
  </head>
  <body>
<div class="header">
    <span style="float: right; margin-top: 20px;">
        <a href="/slack.html">
            <img height="24" src="https://img.shields.io/badge/Slack-ask%20for%20help-44af5c.svg?logo=slack">
        </a>
    </span>
    <h1 class="heading"><a href="../index.html">
        <span>Presto 337 Documentation</span></a></h1>
    <h2 class="heading"><span>13.1. Release 337 (25 Jun 2020)</span></h2>
</div>
<div class="topnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="../release.html">13. Release Notes</a>
    </span>
    <span class="right">
        <a href="release-336.html">13.2. Release 336 (16 Jun 2020)</a> &raquo;
    </span>
</p>

</div>
<div class="content">
    
  <div class="section" id="release-337-25-jun-2020">
<h1>13.1. Release 337 (25 Jun 2020)<a class="headerlink" href="#release-337-25-jun-2020" title="Permalink to this headline">#</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release fixes a potential security vulnerability when secure internal communication is enabled in a cluster. A malicious
attacker can take advantage of this vulnerability to escalate privileges to internal APIs. We encourage everyone to upgrade as soon
as possible.</p>
</div>
<div class="section" id="general-changes">
<h2>General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Fix incorrect results for inequality join involving <code class="docutils literal"><span class="pre">NaN</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4120">#4120</a>)</li>
<li>Fix peak non-revocable memory metric in event listener. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4096">#4096</a>)</li>
<li>Fix queued query JMX stats. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4129">#4129</a>)</li>
<li>Fix rendering of types in the output of <code class="docutils literal"><span class="pre">DESCRIBE</span> <span class="pre">INPUT</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4023">#4023</a>)</li>
<li>Improve performance of queries involving comparisons between <code class="docutils literal"><span class="pre">DOUBLE</span></code> or <code class="docutils literal"><span class="pre">REAL</span></code> values and integer values. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3533">#3533</a>)</li>
<li>Reduce idle CPU consumption in coordinator. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3990">#3990</a>)</li>
<li>Add peak non-revocable memory metric to query stats. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4096">#4096</a>)</li>
<li>Add support for variable-precision <code class="docutils literal"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIME</span> <span class="pre">ZONE</span></code> type (<a class="reference external" href="https://github.com/prestosql/presto/issues/3947">#3947</a>)</li>
<li>Add support for <code class="docutils literal"><span class="pre">IN</span></code> predicate with subqueries in outer join condition. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4151">#4151</a>)</li>
<li>Add support for quantified comparisons (e.g., <code class="docutils literal"><span class="pre">&gt;</span> <span class="pre">ALL</span> <span class="pre">(...)</span></code>) in aggregation queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4128">#4128</a>)</li>
<li>Add <a class="reference internal" href="../connector/druid.html"><span class="doc">Druid Connector</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3522">#3522</a>)</li>
<li>Add <a class="reference internal" href="../functions/string.html#translate" title="translate"><code class="xref py py-func docutils literal"><span class="pre">translate()</span></code></a> function. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4080">#4080</a>)</li>
<li>Reduce worker graceful shutdown duration. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4192">#4192</a>)</li>
</ul>
</div>
<div class="section" id="security-changes">
<h2>Security Changes<a class="headerlink" href="#security-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Disable insecure authentication over HTTP by default when HTTPS with authentication is enabled. This
can be overridden via the <code class="docutils literal"><span class="pre">http-server.authentication.allow-insecure-over-http</span></code> configuration property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4199">#4199</a>)</li>
<li>Add support for insecure authentication over HTTPS to the Web UI. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4199">#4199</a>)</li>
<li>Add <a class="reference internal" href="../security/built-in-system-access-control.html#system-information-rules"><span class="std std-ref">System Information Rules</span></a> which control the ability of a user to access to read and write system management information. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4199">#4199</a>)</li>
<li>Disable user impersonation in default system security. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4082">#4082</a>)</li>
</ul>
</div>
<div class="section" id="elasticsearch-connector-changes">
<h2>Elasticsearch Connector Changes<a class="headerlink" href="#elasticsearch-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Add support for password authentication. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4165">#4165</a>)</li>
</ul>
</div>
<div class="section" id="hive-connector-changes">
<h2>Hive Connector Changes<a class="headerlink" href="#hive-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Fix reading CSV tables with <code class="docutils literal"><span class="pre">separatorChar</span></code>, <code class="docutils literal"><span class="pre">quoteChar</span></code> or <code class="docutils literal"><span class="pre">escapeChar</span></code> table property
containing more than one character. For compatibility with Hive, only first character is considered
and remaining are ignored. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3891">#3891</a>)</li>
<li>Improve performance of <code class="docutils literal"><span class="pre">INSERT</span></code> queries writing to bucketed tables when some buckets do not contain any data. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1375">#1375</a>)</li>
<li>Improve performance of queries reading Parquet data with predicates on <code class="docutils literal"><span class="pre">timestamp</span></code> columns. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4104">#4104</a>)</li>
<li>Improve performance for join queries over partitioned tables. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4156">#4156</a>)</li>
<li>Add support for <code class="docutils literal"><span class="pre">null_format</span></code> table property for tables using TextFile storage format (<a class="reference external" href="https://github.com/prestosql/presto/issues/4056">#4056</a>)</li>
<li>Add support for <code class="docutils literal"><span class="pre">null_format</span></code> table property for tables using RCText and SequenceFile
storage formats (<a class="reference external" href="https://github.com/prestosql/presto/issues/4143">#4143</a>)</li>
<li>Add optimized Parquet writer. The new writer is disabled by default, and can be enabled with the
<code class="docutils literal"><span class="pre">parquet_optimized_writer_enabled</span></code> session property or the <code class="docutils literal"><span class="pre">hive.parquet.optimized-writer.enabled</span></code> configuration
property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3400">#3400</a>)</li>
<li>Add support caching data in Azure Data Lake and AliyunOSS storage. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4213">#4213</a>)</li>
<li>Fix failures when caching data from Google Cloud Storage. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4213">#4213</a>)</li>
<li>Support ACID data files naming used when direct inserts are enabled in Hive (HIVE-21164).
Direct inserts is an upcoming feature in Hive 4. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4049">#4049</a>)</li>
</ul>
</div>
<div class="section" id="postgresql-connector-changes">
<h2>PostgreSQL Connector Changes<a class="headerlink" href="#postgresql-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Improve performance of aggregation queries by computing aggregations within PostgreSQL database.
Currently, the following aggregate functions are eligible for pushdown:
<code class="docutils literal"><span class="pre">count</span></code>,  <code class="docutils literal"><span class="pre">min</span></code>, <code class="docutils literal"><span class="pre">max</span></code>, <code class="docutils literal"><span class="pre">sum</span></code> and <code class="docutils literal"><span class="pre">avg</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3881">#3881</a>)</li>
</ul>
</div>
<div class="section" id="base-jdbc-connector-library-changes">
<h2>Base-JDBC Connector Library Changes<a class="headerlink" href="#base-jdbc-connector-library-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Implement framework for aggregation pushdown. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3881">#3881</a>)</li>
</ul>
</div>
</div>


</div>
<div class="bottomnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="../release.html">13. Release Notes</a>
    </span>
    <span class="right">
        <a href="release-336.html">13.2. Release 336 (16 Jun 2020)</a> &raquo;
    </span>
</p>

</div>

    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>